<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cycle Companion</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide React icons as simple SVG components
        const Calendar = ({ className = "w-5 h-5" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        const Heart = ({ className = "w-5 h-5" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
        );

        const Info = ({ className = "w-5 h-5" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
        );

        const Plus = ({ className = "w-5 h-5" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const Moon = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        );

        const Sun = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
        );

        const Flower = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M12 7.5c1.38 0 2.5-1.12 2.5-2.5S13.38 2.5 12 2.5 9.5 3.62 9.5 5s1.12 2.5 2.5 2.5z"></path>
                <path d="M12 16.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5z"></path>
                <path d="M7.5 12c0-1.38-1.12-2.5-2.5-2.5S2.5 10.62 2.5 12s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5z"></path>
                <path d="M16.5 12c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5z"></path>
                <circle cx="12" cy="12" r="2"></circle>
            </svg>
        );

        const CycleCompanion = () => {
            const [currentDate, setCurrentDate] = useState(new Date());
            const [cycleData, setCycleData] = useState({
                lastPeriodStart: null,
                cycleLength: 28,
                periodLength: 5
            });
            const [selectedDate, setSelectedDate] = useState(null);
            const [activeTab, setActiveTab] = useState('calendar');

            // Calculate cycle phases
            const getCycleInfo = (date) => {
                if (!cycleData.lastPeriodStart) return null;
                
                const daysSinceLastPeriod = Math.floor((date - new Date(cycleData.lastPeriodStart)) / (1000 * 60 * 60 * 24));
                const cycleDay = ((daysSinceLastPeriod % cycleData.cycleLength) + cycleData.cycleLength) % cycleData.cycleLength + 1;
                
                let phase, color, intensity;
                
                if (cycleDay <= cycleData.periodLength) {
                    phase = 'Menstrual';
                    color = 'bg-red-500';
                    intensity = cycleDay <= 2 ? 'high' : cycleDay <= 4 ? 'medium' : 'low';
                } else if (cycleDay <= 13) {
                    phase = 'Follicular';
                    color = 'bg-green-500';
                    intensity = 'low';
                } else if (cycleDay <= 16) {
                    phase = 'Ovulation';
                    color = 'bg-purple-500';
                    intensity = 'high';
                } else {
                    phase = 'Luteal';
                    color = 'bg-blue-500';
                    intensity = 'medium';
                }
                
                return { phase, color, cycleDay, intensity };
            };

            // Generate calendar days
            const generateCalendarDays = () => {
                const year = currentDate.getFullYear();
                const month = currentDate.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                const startingDayOfWeek = firstDay.getDay();
                
                const days = [];
                
                // Add empty cells for days before the first day of the month
                for (let i = 0; i < startingDayOfWeek; i++) {
                    days.push(null);
                }
                
                // Add days of the month
                for (let day = 1; day <= daysInMonth; day++) {
                    days.push(new Date(year, month, day));
                }
                
                return days;
            };

            const formatDate = (date) => {
                return date.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });
            };

            const getPhaseInfo = (phase) => {
                const phaseData = {
                    'Menstrual': {
                        icon: React.createElement(Moon, { className: "w-6 h-6" }),
                        description: 'The menstrual phase is when the uterine lining sheds.',
                        symptoms: 'Cramping, fatigue, mood changes, bloating',
                        support: 'Offer heating pads, comfort food, extra rest, and emotional support. Gentle activities like walking or yoga can help.',
                        duration: `${cycleData.periodLength} days`,
                        color: 'text-red-600 bg-red-50'
                    },
                    'Follicular': {
                        icon: React.createElement(Sun, { className: "w-6 h-6" }),
                        description: 'Energy and mood typically improve as estrogen rises.',
                        symptoms: 'Increased energy, better mood, clearer skin',
                        support: 'Great time for new activities, exercise, and social plans. Energy levels are typically higher.',
                        duration: '7-9 days',
                        color: 'text-green-600 bg-green-50'
                    },
                    'Ovulation': {
                        icon: React.createElement(Flower, { className: "w-6 h-6" }),
                        description: 'Peak fertility window with highest energy levels.',
                        symptoms: 'Peak energy, increased libido, slight temperature rise',
                        support: 'Perfect time for important conversations, physical activities, and social events. She may feel most confident.',
                        duration: '3-4 days',
                        color: 'text-purple-600 bg-purple-50'
                    },
                    'Luteal': {
                        icon: React.createElement(Heart, { className: "w-6 h-6" }),
                        description: 'Progesterone rises, which can affect mood and energy.',
                        symptoms: 'PMS symptoms may appear: mood swings, bloating, breast tenderness',
                        support: 'Be extra patient and understanding. Comfort foods, relaxation, and gentle activities help. Avoid major decisions if she feels emotional.',
                        duration: '12-14 days',
                        color: 'text-blue-600 bg-blue-50'
                    }
                };
                return phaseData[phase] || null;
            };

            const handleDateClick = (date) => {
                setSelectedDate(date);
            };

            const setPeriodStart = (date) => {
                setCycleData(prev => ({
                    ...prev,
                    lastPeriodStart: date.toISOString()
                }));
            };

            const calendarDays = generateCalendarDays();
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];

            return React.createElement('div', { className: "max-w-4xl mx-auto bg-white min-h-screen" },
                // Header
                React.createElement('div', { className: "bg-gradient-to-r from-pink-500 to-purple-600 text-white p-6" },
                    React.createElement('div', { className: "flex items-center gap-3 mb-2" },
                        React.createElement(Heart, { className: "w-8 h-8" }),
                        React.createElement('h1', { className: "text-3xl font-bold" }, 'Cycle Companion')
                    ),
                    React.createElement('p', { className: "opacity-90" }, 'Supporting her through every phase')
                ),

                // Navigation
                React.createElement('div', { className: "flex border-b" },
                    React.createElement('button', {
                        onClick: () => setActiveTab('calendar'),
                        className: `flex-1 py-4 px-6 flex items-center justify-center gap-2 font-medium ${
                            activeTab === 'calendar' 
                                ? 'bg-pink-50 text-pink-600 border-b-2 border-pink-600' 
                                : 'text-gray-600 hover:bg-gray-50'
                        }`
                    },
                        React.createElement(Calendar, { className: "w-5 h-5" }),
                        'Calendar'
                    ),
                    React.createElement('button', {
                        onClick: () => setActiveTab('insights'),
                        className: `flex-1 py-4 px-6 flex items-center justify-center gap-2 font-medium ${
                            activeTab === 'insights' 
                                ? 'bg-pink-50 text-pink-600 border-b-2 border-pink-600' 
                                : 'text-gray-600 hover:bg-gray-50'
                        }`
                    },
                        React.createElement(Info, { className: "w-5 h-5" }),
                        'Cycle Insights'
                    )
                ),

                // Calendar Tab
                activeTab === 'calendar' && React.createElement('div', { className: "p-6" },
                    // Calendar Header
                    React.createElement('div', { className: "flex items-center justify-between mb-6" },
                        React.createElement('h2', { className: "text-2xl font-bold text-gray-800" },
                            `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`
                        ),
                        React.createElement('div', { className: "flex gap-2" },
                            React.createElement('button', {
                                onClick: () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1)),
                                className: "px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"
                            }, '←'),
                            React.createElement('button', {
                                onClick: () => setCurrentDate(new Date()),
                                className: "px-4 py-2 bg-pink-100 text-pink-700 rounded-lg hover:bg-pink-200 transition-colors"
                            }, 'Today'),
                            React.createElement('button', {
                                onClick: () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1)),
                                className: "px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"
                            }, '→')
                        )
                    ),

                    // Calendar Grid
                    React.createElement('div', { className: "grid grid-cols-7 gap-1 mb-6" },
                        // Day headers
                        ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day =>
                            React.createElement('div', { 
                                key: day, 
                                className: "p-3 text-center font-semibold text-gray-600 bg-gray-50 rounded-lg" 
                            }, day)
                        ),
                        
                        // Calendar days
                        calendarDays.map((date, index) => {
                            if (!date) {
                                return React.createElement('div', { key: index, className: "p-3 h-16" });
                            }
                            
                            const cycleInfo = getCycleInfo(date);
                            const isToday = date.toDateString() === new Date().toDateString();
                            const isSelected = selectedDate && date.toDateString() === selectedDate.toDateString();
                            
                            return React.createElement('div', {
                                key: index,
                                onClick: () => handleDateClick(date),
                                className: `p-3 h-16 border-2 rounded-lg cursor-pointer transition-all relative ${
                                    isSelected ? 'border-pink-500 bg-pink-50' : 'border-gray-200 hover:border-gray-300'
                                } ${isToday ? 'ring-2 ring-purple-400' : ''}`
                            },
                                React.createElement('div', { className: "text-sm font-medium text-gray-800" }, date.getDate()),
                                cycleInfo && React.createElement('div', { 
                                    className: `w-3 h-3 rounded-full ${cycleInfo.color} opacity-80 absolute bottom-2 right-2` 
                                }),
                                isToday && React.createElement('div', { 
                                    className: "text-xs text-purple-600 font-bold absolute top-1 right-1" 
                                }, '•')
                            );
                        })
                    ),

                    // Selected Date Info
                    selectedDate && React.createElement('div', { className: "bg-gray-50 rounded-xl p-6" },
                        React.createElement('div', { className: "flex items-center justify-between mb-4" },
                            React.createElement('h3', { className: "text-xl font-bold text-gray-800" }, formatDate(selectedDate)),
                            React.createElement('button', {
                                onClick: () => setPeriodStart(selectedDate),
                                className: "flex items-center gap-2 px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors"
                            },
                                React.createElement(Plus, { className: "w-4 h-4" }),
                                cycleData.lastPeriodStart ? 'Update Period Start' : 'Mark as Period Start'
                            )
                        ),
                        
                        getCycleInfo(selectedDate) ? (() => {
                            const info = getCycleInfo(selectedDate);
                            const phaseData = getPhaseInfo(info.phase);
                            return React.createElement('div', { className: "space-y-4" },
                                React.createElement('div', { className: `p-4 rounded-lg ${phaseData.color}` },
                                    React.createElement('div', { className: "flex items-center gap-3 mb-3" },
                                        phaseData.icon,
                                        React.createElement('div', {},
                                            React.createElement('h4', { className: "font-bold text-lg" }, `${info.phase} Phase`),
                                            React.createElement('p', { className: "text-sm opacity-80" }, `Day ${info.cycleDay} of cycle`)
                                        )
                                    ),
                                    React.createElement('p', { className: "mb-3" }, phaseData.description),
                                    React.createElement('div', { className: "grid md:grid-cols-2 gap-4" },
                                        React.createElement('div', {},
                                            React.createElement('h5', { className: "font-semibold mb-1" }, 'Common Symptoms:'),
                                            React.createElement('p', { className: "text-sm" }, phaseData.symptoms)
                                        ),
                                        React.createElement('div', {},
                                            React.createElement('h5', { className: "font-semibold mb-1" }, 'How to Support:'),
                                            React.createElement('p', { className: "text-sm" }, phaseData.support)
                                        )
                                    )
                                )
                            );
                        })() : React.createElement('div', { className: "text-center py-8" },
                            React.createElement('p', { className: "text-gray-600 mb-4" }, 'Start tracking by marking the first day of a period'),
                            React.createElement('button', {
                                onClick: () => setPeriodStart(selectedDate),
                                className: "flex items-center gap-2 px-6 py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors mx-auto"
                            },
                                React.createElement(Plus, { className: "w-5 h-5" }),
                                'Mark as Period Start'
                  